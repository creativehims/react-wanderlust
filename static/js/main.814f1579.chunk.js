(this.webpackJsonpwanderlust=this.webpackJsonpwanderlust||[]).push([[0],{15:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),s=n.n(r),a=n(8),i=n.n(a),o=n(2),u=n.n(o),j=n(3),d=n(4),h=(n(5),n(7),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]),l=function(e){return(e-273.15).toFixed(0)},b=function(e){var t,n=e.forecast,r=e.venues;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{id:"destination",children:Object(c.jsx)("h2",{children:r&&r.length>0&&r[0].location.city})}),Object(c.jsx)("div",{className:"sectiontitle",children:Object(c.jsx)("h2",{children:"CURRENT WEATHER"})}),Object(c.jsx)("section",{id:"weather",children:Object(c.jsx)("div",{className:"weather",id:"weather1",children:Object.entries(n).length>0&&(t=n,Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:h[(new Date).getDay()]}),Object(c.jsxs)("h2",{children:["Temperature: ",l(t.main.temp),"\xb0C"]}),Object(c.jsxs)("h2",{children:["Condition: ",t.weather[0].description]}),Object(c.jsxs)("h2",{children:["Wind: ",t.wind.speed," Km/hr"]}),Object(c.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png")})]}))})})]})},x=function(e){var t=e.venues;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"sectiontitle",children:Object(c.jsx)("h2",{children:"TOP ATTRACTIONS"})}),Object(c.jsx)("section",{id:"venues",children:t&&t.map((function(e,t){if(!(t>4)){var n=e.categories[0].icon,r="".concat(n.prefix,"bg_64").concat(n.suffix);return function(e,t,n,r){return Object(c.jsxs)("div",{className:"venue",children:[Object(c.jsx)("h2",{children:e}),Object(c.jsx)("img",{className:"venueimage",src:n}),Object(c.jsx)("h3",{children:"Address:"}),Object(c.jsx)("p",{children:t.address}),Object(c.jsx)("p",{children:t.city}),Object(c.jsx)("p",{children:t.country})]},r)}(e.name,e.location,r,t)}}))}),Object(c.jsx)("footer",{})]})},O={getVenues:function(e){return Object(j.a)(u.a.mark((function t(){var n,c,r,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat("https://api.foursquare.com/v2/venues/explore?near=").concat(e,"&limit=10&client_id=").concat("C1HCEVEOKXMXSVBTJ2SMJL2UVTOKPZYTSQLO4Q1A55EJKSXN","&client_secret=").concat("2FIBBFTEYUQOOY4CS3CABYBPHEARWUO0KQXU2VW3GDLG23YM","&v=20201230"),t.prev=1,t.next=4,fetch(n);case 4:if(!(c=t.sent).ok){t.next=13;break}return t.next=8,c.json();case 8:return r=t.sent,console.log(r),s=(s=r.response.groups[0].items).map((function(e){return e.venue})),t.abrupt("return",s);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},getForecast:function(e){return Object(j.a)(u.a.mark((function t(){var n,c,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat("https://api.openweathermap.org/data/2.5/weather","?&q=").concat(e,"&APPID=").concat("75cd72df178ed39030732459c2a5fbf1"),t.prev=1,t.next=4,fetch(n);case 4:if(!(c=t.sent).ok){t.next=10;break}return t.next=8,c.json();case 8:return r=t.sent,t.abrupt("return",r);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()}},p=function(e){var t=Object(r.useState)(""),n=Object(d.a)(t,2),s=n[0],a=n[1],i=e.executeSearch;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("header",{children:Object(c.jsx)("img",{className:"logo",src:"https://content.codecademy.com/courses/intermediate-javascript-requests/wanderlust/logo.svg",alt:"logo"})}),Object(c.jsxs)("main",{children:[Object(c.jsx)("h1",{children:"Where do you want to land?"}),Object(c.jsx)("input",{type:"text",id:"city",placeholder:"Enter City",value:s,onChange:function(e){var t=e.target;a(t.value)}}),Object(c.jsx)("button",{id:"button",type:"submit",onClick:function(){return i(s)},children:"Submit"})]})]})},f=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)({}),i=Object(d.a)(a,2),o=i[0],h=i[1],l=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,O.getVenues(t);case 4:e.t0=e.sent;case 5:if(n=e.t0,s(n),e.t1=t,!e.t1){e.next=12;break}return e.next=11,O.getForecast(t);case 11:e.t1=e.sent;case 12:c=e.t1,h(c);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(p,{executeSearch:l}),Object(c.jsxs)("div",{className:"container",children:[o&&Object.entries(o).length>0&&Object(c.jsx)(b,{forecast:o,venues:n}),n&&n.length>0&&Object(c.jsx)(x,{venues:n})]})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(f,{})}),document.getElementById("root")),g()},5:function(e,t,n){},7:function(e,t,n){}},[[15,1,2]]]);
//# sourceMappingURL=main.814f1579.chunk.js.map